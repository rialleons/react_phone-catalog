(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],{19:function(e,t,c){},58:function(e,t,c){},59:function(e,t,c){},60:function(e,t,c){},63:function(e,t,c){},64:function(e,t,c){},65:function(e,t,c){},66:function(e,t,c){},67:function(e,t,c){},68:function(e,t,c){},69:function(e,t,c){},70:function(e,t,c){},71:function(e,t,c){},72:function(e,t,c){},73:function(e,t,c){},74:function(e,t,c){},75:function(e,t,c){},76:function(e,t,c){},77:function(e,t,c){},78:function(e,t,c){},79:function(e,t,c){},80:function(e,t,c){},81:function(e,t,c){},82:function(e,t,c){"use strict";c.r(t);var a=c(30),s=c.n(a),n=c(13),r=c(42),i=c(10),o=c(14),l=c(5),d=c(15),u=c(39),j=c(43),b=c.n(j),m=c(25),_=c(44),O=Object(_.a)({reducerPath:"productsApi",baseQuery:Object(d.d)({baseUrl:"https://mate-academy.github.io/react_phone-catalog/_new"}),endpoints:function(e){return{getProducts:e.query({query:function(){return"/products.json"}}),getProductDetails:e.query({query:function(e){return"/products/".concat(e,".json")}})}}}),h=O.useGetProductsQuery,p=O.useGetProductDetailsQuery,f=Object(l.e)({name:"favorites",initialState:{favorites:[]},reducers:{addToFavorites:function(e,t){e.favorites.push(t.payload)},removeFromFavorites:function(e,t){e.favorites=e.favorites.filter((function(e){return e.phoneId!==t.payload}))}}}),x=f.actions,g=x.addToFavorites,v=x.removeFromFavorites,N=f.reducer,P=Object(l.e)({name:"cart",initialState:{cart:[]},reducers:{addToCart:function(e,t){e.cart.push({phoneId:t.payload.phoneId,quantity:1,product:t.payload})},removeFromCart:function(e,t){e.cart=e.cart.filter((function(e){return e.phoneId!==t.payload}))},decreaseAmount:function(e,t){var c=e.cart.findIndex((function(e){return e.phoneId===t.payload}));e.cart[c].quantity-=1},increaseAmount:function(e,t){var c=e.cart.findIndex((function(e){return e.phoneId===t.payload}));e.cart[c].quantity+=1}}}),y=P.actions,C=y.addToCart,w=y.removeFromCart,k=y.decreaseAmount,I=y.increaseAmount,D=P.reducer,S={key:"root",storage:b.a,whitelist:["favorites","cart"]},L=Object(o.b)(Object(i.a)({favorites:N,cart:D},O.reducerPath,O.reducer)),B=Object(u.a)(S,L),A=Object(l.b)({reducer:B,middleware:[m.a,O.middleware]}),F=Object(u.b)(A);Object(d.e)(A.dispatch);var E=c(6),q=c(4),H=(c(58),c(3)),T=c(1),M=c(9),$=c.n(M),z=(c(59),function(){return Object(n.d)()}),Q=n.e,R=function(e){return e.reduce((function(e,t){return e+t.quantity}),0)},V=function(e){return e.reduce((function(e,t){return e+t.quantity*t.product.price}),0)},G=(c(60),c(0)),U=function(e){var t=e.isActive;return $()("Nav__link",{"Nav__link--is-active":t})},W=function(){return Object(G.jsxs)("nav",{className:"Nav",children:[Object(G.jsx)(E.c,{to:"/",className:U,children:"Home"}),Object(G.jsx)(E.c,{to:"/phones",className:U,children:"Phones"}),Object(G.jsx)(E.c,{to:"/tablets",className:U,children:"Tablets"}),Object(G.jsx)(E.c,{to:"/accessories",className:U,children:"Accessories"})]})},J=c(45),X=c.n(J),Y=(c(63),function(){var e=Object(T.useState)(""),t=Object(H.a)(e,2),c=t[0],a=t[1],s=Object(E.d)(),n=Object(H.a)(s,2),r=n[0],i=n[1],o=r.get("query")||"",l=Object(q.n)().pathname.replace("/","");Object(T.useEffect)((function(){a(o)}),[l]);var d=function(){a(""),r.delete("query"),i(r)},u=Object(T.useCallback)(X()((function(e){r.set("query",e),""===e&&d(),i(r)}),1e3),[l]);return Object(G.jsxs)("div",{className:"Search",children:[Object(G.jsx)("input",{type:"text",className:"Search__input",placeholder:"Search in ".concat(l,"..."),value:c,onChange:function(e){a(e.target.value),u(e.target.value)}}),Object(G.jsx)("button",{"data-cy":"searchDelete",type:"button",className:$()("Search__button",{"Search__button--delete":!!o}),onClick:d,disabled:!o})]})}),K=function(e){var t=e.isActive;return $()("Header__link",{"Header__link--is-active":t})},Z=function(){var e=Q((function(e){return e.favorites})).favorites,t=Q((function(e){return e.cart})).cart,c=Object(T.useState)(!1),a=Object(H.a)(c,2),s=a[0],n=a[1],r=Object(q.n)().pathname;Object(T.useEffect)((function(){n("/phones"===r||"/tablets"===r||"/accessories"===r||"/favorites"===r)}),[r]);return Object(G.jsxs)("header",{className:"Header",children:[Object(G.jsxs)("div",{className:"Header__left",children:[Object(G.jsx)(E.b,{to:"/",className:"Header__logo",onClick:function(){window.scrollTo({top:0,behavior:"smooth"})}}),"/cart"!==r&&Object(G.jsx)(W,{})]}),Object(G.jsxs)("div",{className:"Header__right",children:[s&&Object(G.jsx)(Y,{}),"/cart"!==r&&Object(G.jsx)("div",{className:"Header__link-wrapper",children:Object(G.jsx)(E.c,{to:"/favorites",className:K,children:!!e.length&&Object(G.jsx)("p",{className:"Header__count",children:e.length})})}),Object(G.jsx)("div",{className:"Header__link-wrapper Header__link-wrapper--cart",children:Object(G.jsx)(E.c,{to:"/cart",className:K,children:!!t.length&&Object(G.jsx)("p",{className:"Header__count",children:R(t)})})})]})]})},ee=(c(64),function(){var e=function(){window.scrollTo({top:0,behavior:"smooth"})};return Object(G.jsx)("footer",{className:"Footer",children:Object(G.jsxs)("div",{className:"Footer__content",children:[Object(G.jsx)(E.b,{to:"/",className:"Footer__logo",onClick:e}),Object(G.jsxs)("div",{className:"Footer__links",children:[Object(G.jsx)(E.b,{to:"https://github.com/rialleons/react_phone-catalog/",className:"Footer__link",target:"_blank",rel:"noopener noreferrer",children:"Github"}),Object(G.jsx)(E.b,{to:"/",className:"Footer__link",onClick:e,children:"Contacts"}),Object(G.jsx)(E.b,{to:"/",className:"Footer__link",onClick:e,children:"Rights"})]}),Object(G.jsxs)("div",{className:"Footer__to-top",children:[Object(G.jsx)("p",{className:"Footer__to-top-text",children:"Back to top"}),Object(G.jsx)("button",{type:"button",className:"Footer__to-top-link",onClick:e})]})]})})}),te=function(){return Object(G.jsxs)("div",{className:"App",children:[Object(G.jsx)(Z,{}),Object(G.jsxs)("div",{className:"App__container",children:[Object(G.jsx)(q.a,{}),Object(G.jsx)(ee,{})]})]})},ce=(c(19),c(12)),ae=c(46),se=c.n(ae),ne=function(e){return e.fullPrice-e.price},re=function(e){return e.fullPrice>e.price},ie=(c(65),function(){var e=Object(T.useState)({width:window.innerWidth,height:window.innerHeight}),t=Object(H.a)(e,2),c=t[0],a=t[1];return Object(T.useEffect)((function(){var e=function(){a({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),c}),oe=(c(66),function(e){return e.charAt(0).toUpperCase()+e.slice(1,e.length)}),le=(c(67),function(e){var t=e.product,c=z(),a=Q((function(e){return e.favorites})).favorites,s=Q((function(e){return e.cart})).cart,n=function(){return a.some((function(e){return e.phoneId===t.phoneId}))},r=function(){return s.some((function(e){return e.phoneId===t.phoneId}))};return Object(G.jsxs)("div",{className:"ProductAdd",children:[Object(G.jsx)("button",{type:"button",className:$()("ProductAdd__cart",{"ProductAdd__cart--selected":r()}),onClick:function(){r()||c(C(t))},disabled:r(),children:r()?Object(G.jsx)("p",{children:"Added to cart"}):Object(G.jsx)("p",{children:"Add to cart"})}),Object(G.jsx)("button",{"data-cy":"addToFavorite",type:"button",className:$()("ProductAdd__favorites",{"ProductAdd__favorites--selected":n()}),onClick:function(){var e=n();c(e?v(t.phoneId):g(t))}})]})}),de=function(e){var t=e.product,c=t.phoneId,a=t.image,s=t.name,n=t.price,r=t.fullPrice,i={screen:t.screen,capacity:t.capacity,ram:t.ram};return Object(G.jsxs)("div",{className:"ProductCard","data-cy":"cardsContainer",children:[Object(G.jsxs)(E.b,{to:"/product/".concat(c),className:"ProductCard__content",onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},children:[Object(G.jsx)("img",{src:a,alt:s,className:"ProductCard__image"}),Object(G.jsx)("p",{className:"ProductCard__name",children:s}),Object(G.jsxs)("div",{className:"ProductCard__prices",children:[re(t)&&Object(G.jsx)("p",{className:"ProductCard__price",children:"$".concat(n)}),Object(G.jsx)("p",{className:$()("ProductCard__price",{"ProductCard__price--discount":re(t)}),children:"$".concat(r)})]}),Object(G.jsx)("div",{className:"ProductCard__divider"}),Object(G.jsx)("div",{className:"ProductCard__info",children:Object.entries(i).map((function(e){var t=Object(H.a)(e,2),c=t[0],a=t[1];return Object(G.jsxs)("div",{className:"ProductCard__field",children:[Object(G.jsx)("p",{className:"ProductCard__field-key",children:oe(c)}),Object(G.jsx)("p",{className:"ProductCard__field-value",children:a||"-"})]},c)}))})]}),Object(G.jsx)(le,{product:t})]})},ue=284,je=function(e){var t=e.products,c=Object(T.useState)(0),a=Object(H.a)(c,2),s=a[0],n=a[1],r=Object(T.useState)(!0),i=Object(H.a)(r,2),o=i[0],l=i[1],d=Object(T.useState)(!1),u=Object(H.a)(d,2),j=u[0],b=u[1],m=Object(T.useState)(4),_=Object(H.a)(m,2),O=_[0],h=_[1],p=ie(),f=Object(T.useMemo)((function(){return t.length}),[t]);Object(T.useEffect)((function(){p.width<600?h(1):p.width<900?h(2):p.width<1176?h(3):h(4)}),[p.width]);return Object(G.jsxs)("div",{className:"ProductsSlider",children:[Object(G.jsxs)("div",{className:"ProductsSlider__buttons",children:[Object(G.jsx)("button",{type:"button",className:$()("ProductsSlider__button ProductsSlider__button--prev",{"ProductsSlider__button--disabled":o}),onClick:function(){n((function(e){b(!1);var t=-e/ue;return t-O<=0?(l(!0),e+ue*t):e+ue*O}))},disabled:o}),Object(G.jsx)("button",{type:"button",className:$()("ProductsSlider__button",{"ProductsSlider__button--disabled":j}),onClick:function(){n((function(e){l(!1);var t=-e/ue+O-1;return t+O>=f-1?(b(!0),e-ue*(f-1-t)):e-ue*O}))},disabled:j})]}),Object(G.jsx)("div",{className:"ProductsSlider__wrapper",style:{width:"".concat(ue*O,"px")},children:Object(G.jsx)("ul",{className:"ProductsSlider__list",style:{width:"".concat(ue*f,"px")},children:t.map((function(e){return Object(G.jsx)("li",{className:"ProductsSlider__item",style:{width:"".concat(268,"px"),transform:"translateX(".concat(s,"px)")},children:Object(G.jsx)(de,{product:e})},e.id)}))})})]})},be=(c(68),["img/banners/banner-phones.png","img/banners/banner-tablets.png","img/banners/banner-accessories.png"]),me=function(){var e=Object(T.useState)(1040),t=Object(H.a)(e,2),c=t[0],a=t[1],s=Object(T.useState)(0),n=Object(H.a)(s,2),r=n[0],i=n[1],o=ie();Object(T.useEffect)((function(){o.width<1176?a(o.width-136):a(1040)}),[o.width]);var l=0,d=function(){i((function(e){return e===-c*(be.length-1)?0:e-c}))};Object(T.useEffect)((function(){return l=window.setInterval((function(){d()}),5e3),function(){return clearInterval(l)}}));return Object(G.jsxs)("div",{className:"Banners",children:[Object(G.jsx)("button",{type:"button",className:"Banners__button Banners__button--left",onClick:function(){clearInterval(l),i((function(e){return 0===e?e-c*(be.length-1):e+c}))}}),Object(G.jsx)("div",{className:"Banners__wrapper",style:{width:"".concat(c,"px")},children:Object(G.jsx)("ul",{className:"Banners__list",style:{width:"".concat(c*be.length,"px")},children:be.map((function(e,t){return Object(G.jsx)("li",{className:"Banners__item",style:{width:"".concat(c,"px"),transform:"translateX(".concat(r,"px)")},children:Object(G.jsx)("img",{src:e,alt:"Banner ".concat(t+1),className:"Banners__banner"})},e)}))})}),Object(G.jsx)("button",{type:"button",className:"Banners__button",onClick:function(){clearInterval(l),d()}}),Object(G.jsx)("div",{className:"Banners__dots",children:be.map((function(e,t){return Object(G.jsx)("button",{type:"button",className:"Banners__dot-link",onClick:function(){return function(e){clearInterval(l),i(-e*c)}(t)},children:Object(G.jsx)("div",{className:$()("Banners__dot",{"Banners__dot--active":t===-r/c})})},e)}))})]})},_e=(c(69),c(70),function(e){var t=e.name,c=e.title,a=e.amount;return Object(G.jsxs)(E.b,{to:"/".concat(t),className:"CategoryItem",children:[Object(G.jsx)("img",{src:"img/categories/category-".concat(t,".png"),alt:"Category ".concat(t),className:"CategoryItem__image"}),Object(G.jsxs)("div",{className:"CategoryItem__info",children:[Object(G.jsx)("h3",{className:"CategoryItem__title",children:c}),Object(G.jsx)("p",{className:"CategoryItem__count",children:"".concat(a," models")})]})]})}),Oe=function(e){var t=e.products,c=function(e){return t.filter((function(t){return t.category===e})).length};return Object(G.jsxs)("ul",{"data-cy":"categoryLinksContainer",className:"CategoriesList",children:[Object(G.jsx)("li",{className:"CategoriesList__item",children:Object(G.jsx)(_e,{name:"phones",title:"Mobile phones",amount:c("phones")})}),Object(G.jsx)("li",{className:"CategoriesList__item",children:Object(G.jsx)(_e,{name:"tablets",title:"Tablets",amount:c("tablets")})}),Object(G.jsx)("li",{className:"CategoriesList__item",children:Object(G.jsx)(_e,{name:"accessories",title:"Accessories",amount:c("accessories")})})]})},he=(c(71),function(){return Object(G.jsx)("div",{"data-cy":"loader",className:"Loader",children:Object(G.jsx)("div",{className:"Loader__content"})})}),pe=function(){var e=h(),t=e.data,c=e.isLoading,a=Object(T.useState)([]),s=Object(H.a)(a,2),n=s[0],r=s[1],i=Object(T.useState)([]),o=Object(H.a)(i,2),l=o[0],d=o[1];return Object(T.useEffect)((function(){t&&(r(function(e){return e.filter((function(e){return re(e)})).sort((function(e,t){return ne(t)-ne(e)})).slice(0,8)}(t)),d(function(e){return Object(ce.a)(e).sort((function(e,t){return t.year-e.year})).slice(0,8)}(t)))}),[t]),Object(G.jsxs)("div",{className:"Page Page--gap--wider Page--padding--top--wider",children:[Object(G.jsx)(me,{}),Object(G.jsx)("h1",{className:"Page__title Page__title--mobile",children:"Home page"}),Object(G.jsxs)("section",{className:"Page__section hot-prices",children:[Object(G.jsx)("h1",{className:"Page__title",children:"Hot prices"}),c?Object(G.jsx)(he,{}):Object(G.jsx)(je,{products:n})]}),Object(G.jsxs)("section",{className:"Page__section shop-by-category",children:[Object(G.jsx)("h1",{className:"Page__title",children:"Shop by category"}),!!t&&Object(G.jsx)(Oe,{products:t})]}),Object(G.jsxs)("section",{className:"Page__section brand-new",children:[Object(G.jsx)("h1",{className:"Page__title Page__title--long",children:"Brand new models"}),c?Object(G.jsx)(he,{}):Object(G.jsx)(je,{products:l})]})]})};c(72),c(73);var fe=function(e){var t=e.totalItems,c=e.onPage,a=Object(T.useState)([]),s=Object(H.a)(a,2),n=s[0],r=s[1],i=Object(T.useState)(7),o=Object(H.a)(i,2),l=o[0],d=o[1],u=ie(),j=Object(E.d)(),b=Object(H.a)(j,2),m=b[0],_=b[1],O=m.get("page"),h=Object(T.useMemo)((function(){return Math.ceil(t/c)||1}),[t,c]),p=Object(T.useMemo)((function(){return function(e,t){for(var c=[],a=e;a<=t;a+=1)c.push(a);return c}(1,h)}),[h]),f=Object(T.useMemo)((function(){return Number(O)||1}),[O]),x=Object(T.useMemo)((function(){return 1===f}),[f]),g=Object(T.useMemo)((function(){return f===h}),[f,h]);Object(T.useEffect)((function(){u.width<576?d(3):u.width<1024?d(5):d(7)}),[u.width]),Object(T.useEffect)((function(){var e=Math.floor(l/2);r(f<=e?p.slice(0,l):h-f<e?p.slice(h-l,h):p.slice(f-e-1,f+e))}),[f,l]);var v=function(){window.scrollTo({top:0,behavior:"smooth"})};return Object(G.jsxs)("ul",{"data-cy":"pagination",className:"Pagination",children:[Object(G.jsx)("li",{className:"Pagination__item",children:Object(G.jsx)("button",{"data-cy":"paginationLeft",type:"button",className:$()("Pagination__arrow Pagination__arrow--prev",{"Pagination__arrow--disabled":x}),onClick:function(){x||(m.set("page",(f-1).toString()),_(m)),v()},disabled:x})}),p.map((function(e){return Object(G.jsx)("li",{className:"Pagination__item",style:{display:n.includes(e)?"block":"none"},children:Object(G.jsx)("button",{type:"button",className:$()("Pagination__link",{"Pagination__link--active":e===f}),onClick:function(){return t=e,m.set("page",t.toString()),_(m),void v();var t},children:e})},e)})),Object(G.jsx)("li",{className:"Pagination__item",children:Object(G.jsx)("button",{"data-cy":"paginationRight",type:"button",className:$()("Pagination__arrow",{"Pagination__arrow--disabled":g}),onClick:function(){g||(m.set("page",(f+1).toString()),_(m)),v()},disabled:g})})]})},xe=(c(74),c.p+"static/media/icon_vector_disabled.2a072ff1.svg"),ge=function(e){var t=e.parameterOptions,c=e.currentOptionName,a=e.onChange,s=Object(T.useState)(!1),n=Object(H.a)(s,2),r=n[0],i=n[1];Object(T.useEffect)((function(){if(r){var e=function(){i(!1)};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}}),[r]);return Object(G.jsxs)("div",{className:"Dropdown",children:[Object(G.jsxs)("button",{type:"button",className:$()("Dropdown__button",{"Dropdown__button--active":r}),onClick:function(){i(!r)},children:[Object(G.jsx)("span",{className:"Dropdown__text",children:function(e){var c=t.find((function(t){return t.name===e}));return null===c||void 0===c?void 0:c.alias}(c)}),Object(G.jsx)("img",{src:xe,alt:"Vector Icon",className:$()("Dropdown__arrow",{"Dropdown__arrow--active":r})})]}),r&&Object(G.jsx)("div",{className:"Dropdown__content",children:t.map((function(e){return Object(G.jsx)("button",{type:"button",className:"Dropdown__item",onClick:function(){return t=e.name,a(t),void i(!1);var t},children:e.alias},e.name)}))})]})},ve=(c(75),function(){return Object(G.jsx)("p",{className:"NoSearchResults",children:"Sorry, no matching results"})}),Ne=[{name:"age",alias:"Newest"},{name:"name",alias:"Alphabetically"},{name:"price",alias:"Cheapest"}],Pe=[{name:"all",alias:"All"},{name:"4",alias:"4"},{name:"8",alias:"8"},{name:"16",alias:"16"}],ye=function(e){var t=e.products,c=Object(T.useState)([]),a=Object(H.a)(c,2),s=a[0],n=a[1],r=Object(q.n)().pathname,i=Object(E.d)(),o=Object(H.a)(i,2),l=o[0],d=o[1],u=l.get("sort")||"age",j=l.get("query")||"",b=l.get("page")||"1",m=l.get("perPage")||"8",_=Object(T.useMemo)((function(){return function(e,t,c){var a=Object(ce.a)(e);if(c){var s=c.toLowerCase();a=a.filter((function(e){return e.name.toLowerCase().includes(s)}))}switch(t){case"age":a.sort((function(e,t){return t.year-e.year}));break;case"price":a.sort((function(e,t){return e.price-t.price}));break;case"name":a.sort((function(e,t){return e.name.localeCompare(t.name)}));break;default:throw new Error("Unknown sort parameter!")}return a}(t,u,j)}),[t,u,j]),O=_.length;Object(T.useEffect)((function(){if("all"!==m){var e=(+b-1)*+m+1,t=Math.min(+b*+m,O);n(_.slice(e-1,t))}else n(Object(ce.a)(_))}),[_,b,m]);return Object(G.jsxs)("div",{className:"ProductsList",children:["/favorites"!==r&&O>1&&Object(G.jsxs)("div",{className:"ProductsList__selections",children:[Object(G.jsxs)("div",{className:"ProductsList__select",children:[Object(G.jsx)("p",{className:"ProductsList__label",children:"Sort by"}),Object(G.jsx)(ge,{parameterOptions:Ne,currentOptionName:u,onChange:function(e){l.set("sort",e),d(l)}})]}),O>4&&Object(G.jsxs)("div",{className:"ProductsList__select ProductsList__select--narrow",children:[Object(G.jsx)("p",{className:"ProductsList__label",children:"Items on page"}),Object(G.jsx)(ge,{parameterOptions:Pe,currentOptionName:m,onChange:function(e){l.set("perPage",e),l.set("page","1"),d(l)}})]})]}),!!j&&!!O&&Object(G.jsx)("p",{className:"ProductsList__search-count",children:"".concat(O," result").concat(O>1?"s":"")}),!O&&Object(G.jsx)(ve,{}),Object(G.jsx)("ul",{className:"ProductsList__content","data-cy":"productList",children:s.map((function(e){return Object(G.jsx)("li",{className:"ProductsList__item",children:Object(G.jsx)(de,{product:e})},e.id)}))}),"all"!==m&&O>+m&&Object(G.jsx)("div",{className:"ProductsList__pagination",children:Object(G.jsx)(fe,{totalItems:O,onPage:+m})})]})},Ce=(c(76),function(e){var t=e.categoryName;return Object(G.jsx)("p",{className:"NoResults",children:"".concat(t," not found")})}),we=(c(77),c.p+"static/media/icon_home.d4c29e4f.svg"),ke=function(){var e=Object(T.useState)(""),t=Object(H.a)(e,2),c=t[0],a=t[1],s=Object(T.useState)(),n=Object(H.a)(s,2),r=n[0],i=n[1],o=Object(q.n)(),l=Object(q.r)().productId,d=h().data;return Object(T.useEffect)((function(){d&&l&&i(d.find((function(e){return e.phoneId===l})))}),[l,d]),Object(T.useEffect)((function(){l?r&&a(r.category):a(o.pathname.slice(1,o.pathname.length))}),[o.pathname,r]),Object(G.jsxs)("div",{"data-cy":"breadCrumbs",className:"Breadcrumbs",children:[Object(G.jsx)(E.b,{to:"/",className:"Breadcrumbs__link",children:Object(G.jsx)("img",{src:we,alt:"Home Icon"})}),Object(G.jsx)("img",{src:xe,alt:"Vector Icon"}),l?Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(E.b,{to:"/".concat(c),className:"Breadcrumbs__link",children:Object(G.jsx)("p",{className:"Breadcrumbs__folder",children:oe(c)})}),Object(G.jsx)("img",{src:xe,alt:"Vector Icon"}),Object(G.jsx)("p",{className:"Breadcrumbs__folder",children:null===r||void 0===r?void 0:r.name})]}):Object(G.jsx)("p",{className:"Breadcrumbs__folder",children:oe(c)})]})},Ie=function(){var e=h(),t=e.data,c=e.isLoading,a=Object(T.useState)([]),s=Object(H.a)(a,2),n=s[0],r=s[1],i=Object(E.d)(),o=Object(H.a)(i,1)[0].get("query")||"";return Object(T.useEffect)((function(){t&&r(t.filter((function(e){return"phones"===e.category})))}),[t]),Object(G.jsxs)("div",{className:"Page",children:[!o&&Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(ke,{}),Object(G.jsxs)("div",{className:"Page__top",children:[Object(G.jsx)("h1",{className:"Page__title",children:"Mobile Phones"}),Object(G.jsx)("p",{className:"Page__amount",children:"".concat(n.length," models")})]})]}),c&&Object(G.jsx)(he,{}),c||n.length?Object(G.jsx)(ye,{products:n}):Object(G.jsx)(Ce,{categoryName:"Mobile phones"})]})},De=function(){var e=h(),t=e.data,c=e.isLoading,a=Object(T.useState)([]),s=Object(H.a)(a,2),n=s[0],r=s[1],i=Object(E.d)(),o=Object(H.a)(i,1)[0].get("query")||"";return Object(T.useEffect)((function(){t&&r(t.filter((function(e){return"tablets"===e.category})))}),[t]),Object(G.jsxs)("div",{className:"Page",children:[!o&&Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(ke,{}),Object(G.jsxs)("div",{className:"Page__top",children:[Object(G.jsx)("h1",{className:"Page__title",children:"Tablets"}),Object(G.jsx)("p",{className:"Page__amount",children:"".concat(n.length," models")})]})]}),c&&Object(G.jsx)(he,{}),c||n.length?Object(G.jsx)(ye,{products:n}):Object(G.jsx)(Ce,{categoryName:"Tablets"})]})},Se=function(){var e=h(),t=e.data,c=e.isLoading,a=Object(T.useState)([]),s=Object(H.a)(a,2),n=s[0],r=s[1],i=Object(E.d)(),o=Object(H.a)(i,1)[0].get("query")||"";return Object(T.useEffect)((function(){t&&r(t.filter((function(e){return"accessories"===e.category})))}),[t]),Object(G.jsxs)("div",{className:"Page",children:[!o&&Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(ke,{}),Object(G.jsxs)("div",{className:"Page__top",children:[Object(G.jsx)("h1",{className:"Page__title",children:"Accessories"}),Object(G.jsx)("p",{className:"Page__amount",children:"".concat(n.length," models")})]})]}),c&&Object(G.jsx)(he,{}),c||n.length?Object(G.jsx)(ye,{products:n}):Object(G.jsx)(Ce,{categoryName:"Accessories"})]})},Le=function(){var e=Q((function(e){return e.favorites})).favorites,t=Object(E.d)(),c=Object(H.a)(t,1)[0].get("query")||"";return Object(G.jsxs)("div",{className:"Page",children:[!c&&Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(ke,{}),Object(G.jsxs)("div",{className:"Page__top",children:[Object(G.jsx)("h1",{className:"Page__title",children:"Favorites"}),Object(G.jsx)("p",{className:"Page__amount",children:"".concat(e.length," models")})]})]}),e.length?Object(G.jsx)(ye,{products:e}):Object(G.jsx)(Ce,{categoryName:"Favorites"})]})},Be=(c(78),c.p+"static/media/icon_vector.a8e610bf.svg"),Ae=function(){var e=Object(q.p)();return Object(G.jsxs)("div",{className:"BackButton",children:[Object(G.jsx)("img",{src:Be,alt:"Vector Icon",className:"BackButton__vector"}),Object(G.jsx)("button",{"data-cy":"backButton",type:"button",className:"BackButton__button",onClick:function(){return e(-1)},children:"Back"})]})},Fe=(c(79),c(80),function(e){var t=e.cartItem,c=z(),a=t.quantity,s=t.product;return Object(G.jsxs)("div",{className:"CartItemCard",children:[Object(G.jsxs)("div",{className:"CartItemCard__left",children:[Object(G.jsx)("button",{"data-cy":"cartDeleteButton",type:"button",className:"CartItemCard__delete",onClick:function(){c(w(s.phoneId))}}),Object(G.jsx)("img",{src:s.image,alt:s.name,className:"CartItemCard__image"}),Object(G.jsx)("p",{className:"CartItemCard__description",children:s.name})]}),Object(G.jsxs)("div",{className:"CartItemCard__right",children:[Object(G.jsxs)("div",{className:"CartItemCard__counter",children:[Object(G.jsx)("button",{type:"button",className:$()("CartItemCard__button CartItemCard__button--subtract",{"CartItemCard__button--subtract--disabled":a<=1}),onClick:function(){c(k(s.phoneId))},disabled:a<=1}),Object(G.jsx)("p",{className:"CartItemCard__quantity",children:a}),Object(G.jsx)("button",{type:"button",className:"CartItemCard__button CartItemCard__button--add",onClick:function(){c(I(s.phoneId))}})]}),Object(G.jsx)("p",{className:"CartItemCard__price",children:"$".concat(s.price*a)})]})]})}),Ee=function(e){var t=e.cart,c=Object(T.useState)(!1),a=Object(H.a)(c,2),s=a[0],n=a[1];return Object(G.jsxs)("div",{className:"CartItemsList",children:[Object(G.jsx)("div",{className:"CartItemsList__items",children:t.map((function(e){return Object(G.jsx)(Fe,{cartItem:e},e.phoneId)}))}),Object(G.jsxs)("div",{className:"CartItemsList__output",children:[Object(G.jsxs)("div",{className:"CartItemsList__info",children:[Object(G.jsx)("p",{className:"CartItemsList__price",children:"$".concat(V(t))}),Object(G.jsx)("p",{"data-cy":"productQauntity",className:"CartItemsList__amount",children:"Total for ".concat(R(t)," items")})]}),Object(G.jsx)("div",{className:"CartItemsList__divider"}),Object(G.jsx)("button",{type:"button",className:"CartItemsList__checkout",onClick:function(){n(!0),setTimeout((function(){return n(!1)}),4e3)},children:"Checkout"}),s&&Object(G.jsx)("p",{className:"CartItemsList__not-implemented",children:"We are sorry, but this feature is not implemented yet"})]})]})},qe=function(){var e=Q((function(e){return e.cart})).cart;return Object(G.jsxs)("div",{className:"Page Page--gap--narrower Page--padding--top--wider",children:[Object(G.jsxs)("div",{className:"Page__top Page__top--gap--wider",children:[Object(G.jsx)(Ae,{}),Object(G.jsx)("h1",{className:"Page__title",children:"Cart"})]}),e.length?Object(G.jsx)(Ee,{cart:e}):Object(G.jsx)("p",{className:"Page__amount",children:"Your cart is empty"})]})},He=c(23),Te=(c(81),function(e){return{black:"#303234",green:"#99eeae",yellow:"#fff190",white:"#fff",purple:"#e6e6fa",red:"#ff0038",spacegray:"#575757",gold:"#ffd5b3",midnightgreen:"#5e7266",silver:"#d8d8d8",coral:"#f56549",rosegold:"#ffd5cf"}[e]||"#000"}),Me=function(e){var t=e.productInfo,c=Object(T.useState)(""),a=Object(H.a)(c,2),s=a[0],n=a[1],r=Object(T.useState)(),i=Object(H.a)(r,2),o=i[0],l=i[1],d=h().data,u=t.id,j=t.namespaceId,b=t.images,m=t.colorsAvailable,_=t.capacity,O=t.color,p=t.capacityAvailable,f=t.screen,x=t.resolution,g=t.processor,v=t.ram,N=t.description,P=t.camera,y=t.zoom,C=t.cell,w={screen:f,resolution:x,processor:g,ram:v},k=Object(He.a)(Object(He.a)({},w),{},{"built in memory":_,camera:P,zoom:y,cell:C.join(", ")});Object(T.useEffect)((function(){n(b[0])}),[t]),Object(T.useEffect)((function(){d&&l(d.find((function(e){return e.phoneId===u})))}),[d,u]);return Object(G.jsxs)("div",{className:"ProductDetails",children:[Object(G.jsx)("p",{className:"ProductDetails__id",children:"ID: ".concat(null===o||void 0===o?void 0:o.id)}),Object(G.jsxs)("div",{className:"ProductDetails__content",children:[Object(G.jsx)("div",{className:"ProductDetails__images",children:b.map((function(e){return Object(G.jsx)("button",{type:"button",className:$()("ProductDetails__image-link",{"ProductDetails__image-link--active":s===e}),onClick:function(){n(e)},children:Object(G.jsx)("img",{src:e,alt:e,className:"ProductDetails__image"})},e)}))}),Object(G.jsxs)("div",{className:"ProductDetails__poster",children:[Object(G.jsx)("button",{type:"button",className:"ProductDetails__button ProductDetails__button--prev",onClick:function(){s===b[0]?n(b[b.length-1]):n(b[b.indexOf(s)-1])}}),Object(G.jsx)("img",{src:s,alt:s,className:"ProductDetails__image ProductDetails__image--big"}),Object(G.jsx)("button",{type:"button",className:"ProductDetails__button",onClick:function(){s===b[b.length-1]?n(b[0]):n(b[b.indexOf(s)+1])}}),Object(G.jsx)("div",{className:"ProductDetails__dots",children:b.map((function(e){return Object(G.jsx)("button",{type:"button",className:"ProductDetails__dot-link",onClick:function(){return function(e){n(e)}(e)},children:Object(G.jsx)("div",{className:$()("ProductDetails__dot",{"ProductDetails__dot--active":e===s})})},e)}))})]}),Object(G.jsxs)("div",{className:"ProductDetails__interactive",children:[Object(G.jsx)("h4",{className:"ProductDetails__small-title",children:"Avialable colors"}),Object(G.jsx)("div",{className:"ProductDetails__choose",children:m.map((function(e){return Object(G.jsx)(E.b,{to:"/product/".concat(j,"-").concat(_.toLowerCase(),"-").concat(e),className:$()("ProductDetails__color-link",{"ProductDetails__color-link--active":O===e}),children:Object(G.jsx)("div",{className:"ProductDetails__color",style:{backgroundColor:Te(e)}})},e)}))}),Object(G.jsx)("div",{className:" ProductDetails__divider ProductDetails__divider--margin--small"}),Object(G.jsx)("h4",{className:"ProductDetails__small-title",children:"Select capacity"}),Object(G.jsx)("div",{className:"ProductDetails__choose",children:p.map((function(e){return Object(G.jsx)(E.b,{to:"/product/".concat(j,"-").concat(e.toLowerCase(),"-").concat(O),className:$()("ProductDetails__capacity",{"ProductDetails__capacity--active":_===e}),children:Object(G.jsx)("p",{children:e})},e)}))}),Object(G.jsx)("div",{className:"ProductDetails__divider"}),o&&Object(G.jsxs)(G.Fragment,{children:[Object(G.jsxs)("div",{className:"ProductDetails__prices",children:[re(o)&&Object(G.jsx)("p",{className:"ProductDetails__price",children:"$".concat(o.price)}),Object(G.jsx)("p",{className:$()("ProductDetails__price",{"ProductDetails__price--disc":re(o)}),children:"$".concat(o.fullPrice)})]}),Object(G.jsx)("div",{className:"ProductDetails__add",children:Object(G.jsx)(le,{product:o})})]}),Object(G.jsx)("div",{className:"ProductDetails__info",children:Object.entries(w).map((function(e){var t=Object(H.a)(e,2),c=t[0],a=t[1];return Object(G.jsxs)("div",{className:"ProductDetails__field",children:[Object(G.jsx)("p",{className:"ProductDetails__field-key",children:oe(c)}),Object(G.jsx)("p",{className:"ProductDetails__field-value",children:a||"-"})]},c)}))})]}),Object(G.jsxs)("section",{"data-cy":"productDescription",className:"ProductDetails__about",children:[Object(G.jsx)("h2",{className:"ProductDetails__title",children:"About"}),Object(G.jsx)("div",{className:"ProductDetails__divider"}),Object(G.jsx)("div",{className:"ProductDetails__chapters",children:N.map((function(e){return Object(G.jsxs)("div",{className:"ProductDetails__chapter",children:[Object(G.jsx)("h3",{className:"ProductDetails__subheader",children:e.title}),e.text.map((function(e){return Object(G.jsx)("p",{className:"ProductDetails__description",children:e},e)}))]},e.title)}))})]}),Object(G.jsxs)("section",{className:"ProductDetails__specs",children:[Object(G.jsx)("h2",{className:"ProductDetails__title",children:"Tech specs"}),Object(G.jsx)("div",{className:"ProductDetails__divider"}),Object(G.jsx)("div",{className:" ProductDetails__info ProductDetails__info--text--bigger ",children:Object.entries(k).map((function(e){var t=Object(H.a)(e,2),c=t[0],a=t[1];return Object(G.jsxs)("div",{className:"ProductDetails__field",children:[Object(G.jsx)("p",{className:"ProductDetails__field-key",children:oe(c)}),Object(G.jsx)("p",{className:"ProductDetails__field-value",children:a||"-"})]},c)}))})]})]})]})},$e=function(){var e=Object(T.useState)([]),t=Object(H.a)(e,2),c=t[0],a=t[1],s=Object(q.r)().productId,n=p(s||""),r=n.data,i=n.isLoading,o=n.isError,l=h(),d=l.data,u=l.isLoading;return Object(T.useEffect)((function(){d&&s&&a(function(e,t){var c=e.filter((function(e){return e.phoneId!==t}));return se()(c,8)}(d,s))}),[d,s]),Object(G.jsxs)("div",{className:"Page",children:[Object(G.jsx)(ke,{}),Object(G.jsxs)("div",{className:"Page__top Page__top--gap--wider",children:[Object(G.jsx)(Ae,{}),!o&&Object(G.jsx)("h1",{className:"Page__title",children:null===r||void 0===r?void 0:r.name})]}),o&&Object(G.jsx)(Ce,{categoryName:"Current product"}),!i&&!o&&r&&Object(G.jsx)(Me,{productInfo:r}),Object(G.jsxs)("section",{className:" Page__section Page__section--padding-top suggested ",children:[Object(G.jsx)("h1",{className:"Page__title Page__title--long",children:"You may also like"}),u?Object(G.jsx)(he,{}):Object(G.jsx)(je,{products:c})]})]})},ze=function(){return Object(G.jsx)("div",{className:"Page",children:Object(G.jsx)("h1",{className:"Page__title",children:"Page not found"})})},Qe=function(){return Object(G.jsx)(E.a,{children:Object(G.jsx)(q.d,{children:Object(G.jsxs)(q.b,{path:"/",element:Object(G.jsx)(te,{}),children:[Object(G.jsx)(q.b,{index:!0,element:Object(G.jsx)(pe,{})}),Object(G.jsx)(q.b,{path:"/phones",element:Object(G.jsx)(Ie,{})}),Object(G.jsx)(q.b,{path:"/tablets",element:Object(G.jsx)(De,{})}),Object(G.jsx)(q.b,{path:"/accessories",element:Object(G.jsx)(Se,{})}),Object(G.jsx)(q.b,{path:"/favorites",element:Object(G.jsx)(Le,{})}),Object(G.jsx)(q.b,{path:"/cart",element:Object(G.jsx)(qe,{})}),Object(G.jsx)(q.b,{path:"/product/:productId",element:Object(G.jsx)($e,{})}),Object(G.jsx)(q.b,{path:"*",element:Object(G.jsx)(ze,{})})]})})})};s.a.render(Object(G.jsx)(n.a,{store:A,children:Object(G.jsx)(r.a,{loading:null,persistor:F,children:Object(G.jsx)(Qe,{})})}),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.a46b17f7.chunk.js.map