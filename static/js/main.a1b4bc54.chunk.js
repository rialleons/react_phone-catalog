(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],{19:function(e,t,c){},58:function(e,t,c){},59:function(e,t,c){},60:function(e,t,c){},63:function(e,t,c){},64:function(e,t,c){},65:function(e,t,c){},66:function(e,t,c){},67:function(e,t,c){},68:function(e,t,c){},69:function(e,t,c){},70:function(e,t,c){},71:function(e,t,c){},72:function(e,t,c){},73:function(e,t,c){},74:function(e,t,c){},75:function(e,t,c){},76:function(e,t,c){},77:function(e,t,c){},78:function(e,t,c){},79:function(e,t,c){},80:function(e,t,c){},81:function(e,t,c){},82:function(e,t,c){"use strict";c.r(t);var a=c(30),s=c.n(a),n=c(12),r=c(42),i=c(10),o=c(14),l=c(5),d=c(15),j=c(39),u=c(43),b=c.n(u),m=c(25),O=c(44),_=Object(O.a)({reducerPath:"productsApi",baseQuery:Object(d.d)({baseUrl:"https://mate-academy.github.io/react_phone-catalog/api"}),endpoints:function(e){return{getProducts:e.query({query:function(){return"/products.json"}}),getProductDetails:e.query({query:function(e){return"/products/".concat(e,".json")}})}}}),f=_.useGetProductsQuery,h=_.useGetProductDetailsQuery,p=Object(l.e)({name:"favorites",initialState:{favorites:[]},reducers:{addToFavorites:function(e,t){e.favorites.push(t.payload)},removeFromFavorites:function(e,t){e.favorites=e.favorites.filter((function(e){return e.id!==t.payload}))}}}),x=p.actions,g=x.addToFavorites,N=x.removeFromFavorites,v=p.reducer,P=Object(l.e)({name:"cart",initialState:{cart:[]},reducers:{addToCart:function(e,t){e.cart.push({id:t.payload.id,quantity:1,product:t.payload})},removeFromCart:function(e,t){e.cart=e.cart.filter((function(e){return e.id!==t.payload}))},decreaseAmount:function(e,t){var c=e.cart.findIndex((function(e){return e.id===t.payload}));e.cart[c].quantity-=1},increaseAmount:function(e,t){var c=e.cart.findIndex((function(e){return e.id===t.payload}));e.cart[c].quantity+=1}}}),y=P.actions,C=y.addToCart,k=y.removeFromCart,I=y.decreaseAmount,L=y.increaseAmount,w=P.reducer,D={key:"root",storage:b.a,whitelist:["favorites","cart"]},S=Object(o.b)(Object(i.a)({favorites:v,cart:w},_.reducerPath,_.reducer)),B=Object(j.a)(D,S),F=Object(l.b)({reducer:B,middleware:[m.a,_.middleware]}),A=Object(j.b)(F);Object(d.e)(F.dispatch);var E=c(7),q=c(4),H=(c(58),c(3)),T=c(1),R=c(9),M=c.n(R),$=(c(59),function(){return Object(n.d)()}),U=n.e,Q=function(e){return e.price*(e.discount/100)},V=function(e){return e.price-Q(e)},G=function(e){return e.reduce((function(e,t){return e+t.quantity}),0)},J=function(e){return e.reduce((function(e,t){var c=V(t.product);return e+t.quantity*c}),0)},Y=(c(60),c(0)),z=function(e){var t=e.isActive;return M()("Nav__link",{"Nav__link--is-active":t})},W=function(){return Object(Y.jsxs)("nav",{className:"Nav",children:[Object(Y.jsx)(E.c,{to:"/",className:z,children:"Home"}),Object(Y.jsx)(E.c,{to:"/phones",className:z,children:"Phones"}),Object(Y.jsx)(E.c,{to:"/tablets",className:z,children:"Tablets"}),Object(Y.jsx)(E.c,{to:"/accessories",className:z,children:"Accessories"})]})},K=c(45),X=c.n(K),Z=(c(63),function(){var e=Object(T.useState)(""),t=Object(H.a)(e,2),c=t[0],a=t[1],s=Object(E.d)(),n=Object(H.a)(s,2),r=n[0],i=n[1],o=r.get("query")||"",l=Object(q.n)().pathname.replace("/","");Object(T.useEffect)((function(){a(o)}),[l]);var d=function(){a(""),r.delete("query"),i(r)},j=Object(T.useCallback)(X()((function(e){r.set("query",e),""===e&&d(),i(r)}),1e3),[l]);return Object(Y.jsxs)("div",{className:"Search",children:[Object(Y.jsx)("input",{type:"text",className:"Search__input",placeholder:"Search in ".concat(l,"..."),value:c,onChange:function(e){a(e.target.value),j(e.target.value)}}),Object(Y.jsx)("button",{"data-cy":"searchDelete",type:"button",className:M()("Search__button",{"Search__button--delete":!!o}),onClick:d,disabled:!o})]})}),ee=function(e){var t=e.isActive;return M()("Header__link",{"Header__link--is-active":t})},te=function(){var e=U((function(e){return e.favorites})).favorites,t=U((function(e){return e.cart})).cart,c=Object(T.useState)(!1),a=Object(H.a)(c,2),s=a[0],n=a[1],r=Object(q.n)().pathname;Object(T.useEffect)((function(){n("/phones"===r||"/tablets"===r||"/accessories"===r||"/favorites"===r)}),[r]);return Object(Y.jsxs)("header",{className:"Header",children:[Object(Y.jsxs)("div",{className:"Header__left",children:[Object(Y.jsx)(E.b,{to:"/",className:"Header__logo",onClick:function(){window.scrollTo({top:0,behavior:"smooth"})}}),"/cart"!==r&&Object(Y.jsx)(W,{})]}),Object(Y.jsxs)("div",{className:"Header__right",children:[s&&Object(Y.jsx)(Z,{}),"/cart"!==r&&Object(Y.jsx)("div",{className:"Header__link-wrapper",children:Object(Y.jsx)(E.c,{to:"/favorites",className:ee,children:!!e.length&&Object(Y.jsx)("p",{className:"Header__count",children:e.length})})}),Object(Y.jsx)("div",{className:"Header__link-wrapper Header__link-wrapper--cart",children:Object(Y.jsx)(E.c,{to:"/cart",className:ee,children:!!t.length&&Object(Y.jsx)("p",{className:"Header__count",children:G(t)})})})]})]})},ce=(c(64),function(){var e=function(){window.scrollTo({top:0,behavior:"smooth"})};return Object(Y.jsx)("footer",{className:"Footer",children:Object(Y.jsxs)("div",{className:"Footer__content",children:[Object(Y.jsx)(E.b,{to:"/",className:"Footer__logo",onClick:e}),Object(Y.jsxs)("div",{className:"Footer__links",children:[Object(Y.jsx)(E.b,{to:"https://github.com/rialleons/react_phone-catalog/",className:"Footer__link",target:"_blank",rel:"noopener noreferrer",children:"Github"}),Object(Y.jsx)(E.b,{to:"/",className:"Footer__link",children:"Contacts"}),Object(Y.jsx)(E.b,{to:"/",className:"Footer__link",children:"Rights"})]}),Object(Y.jsxs)("div",{className:"Footer__to-top",children:[Object(Y.jsx)("p",{className:"Footer__to-top-text",children:"Back to top"}),Object(Y.jsx)("button",{type:"button",className:"Footer__to-top-link",onClick:e})]})]})})}),ae=function(){return Object(Y.jsxs)("div",{className:"App",children:[Object(Y.jsx)(te,{}),Object(Y.jsxs)("div",{className:"App__container",children:[Object(Y.jsx)(q.a,{}),Object(Y.jsx)(ce,{})]})]})},se=(c(19),c(46)),ne=c.n(se),re=(c(65),c(66),function(e){return e.charAt(0).toUpperCase()+e.slice(1,e.length)}),ie=(c(67),function(e){var t=e.product,c=$(),a=U((function(e){return e.favorites})).favorites,s=U((function(e){return e.cart})).cart,n=function(){return a.some((function(e){return e.id===t.id}))},r=function(){return s.some((function(e){return e.id===t.id}))};return Object(Y.jsxs)("div",{className:"ProductAdd",children:[Object(Y.jsx)("button",{type:"button",className:M()("ProductAdd__cart",{"ProductAdd__cart--selected":r()}),onClick:function(){var e=r();c(e?k(t.id):C(t))},children:r()?Object(Y.jsx)("p",{children:"Added to cart"}):Object(Y.jsx)("p",{children:"Add to cart"})}),Object(Y.jsx)("button",{"data-cy":"addToFavorite",type:"button",className:M()("ProductAdd__favorites",{"ProductAdd__favorites--selected":n()}),onClick:function(){var e=n();c(e?N(t.id):g(t))}})]})}),oe=function(e){var t=e.product,c=t.id,a=t.imageUrl,s=t.name,n=t.price,r=t.discount,i={screen:t.screen,capacity:t.capacity,ram:t.ram};return Object(Y.jsxs)("div",{className:"ProductCard","data-cy":"cardsContainer",children:[Object(Y.jsxs)(E.b,{to:"/product/".concat(c),className:"ProductCard__content",children:[Object(Y.jsx)("img",{src:a,alt:s,className:"ProductCard__image"}),Object(Y.jsx)("p",{className:"ProductCard__name",children:s}),Object(Y.jsxs)("div",{className:"ProductCard__prices",children:[!!r&&Object(Y.jsx)("p",{className:"ProductCard__price",children:"$".concat(V(t))}),Object(Y.jsx)("p",{className:M()("ProductCard__price",{"ProductCard__price--discount":!!r}),children:"$".concat(n)})]}),Object(Y.jsx)("div",{className:"ProductCard__divider"}),Object(Y.jsx)("div",{className:"ProductCard__info",children:Object.entries(i).map((function(e){var t=Object(H.a)(e,2),c=t[0],a=t[1];return Object(Y.jsxs)("div",{className:"ProductCard__field",children:[Object(Y.jsx)("p",{className:"ProductCard__field-key",children:re(c)}),Object(Y.jsx)("p",{className:"ProductCard__field-value",children:a||"-"})]},c)}))})]}),Object(Y.jsx)(ie,{product:t})]})},le=1148,de=function(e){var t=e.products,c=Object(T.useState)(!0),a=Object(H.a)(c,2),s=a[0],n=a[1],r=Object(T.useState)(!1),i=Object(H.a)(r,2),o=i[0],l=i[1],d=Object(T.useRef)(null),j=d.current;Object(T.useEffect)((function(){j&&(j.scrollLeft=0)}),[j]);return Object(Y.jsxs)("div",{className:"ProductsSlider",children:[Object(Y.jsxs)("div",{className:"ProductsSlider__buttons",children:[Object(Y.jsx)("button",{type:"button",className:M()("ProductsSlider__button ProductsSlider__button--left",{"ProductsSlider__button--disabled":s}),onClick:function(){l(!1),j&&(j.scrollLeft-=le,j.scrollLeft-le<=0&&n(!0))},disabled:s}),Object(Y.jsx)("button",{type:"button",className:M()("ProductsSlider__button",{"ProductsSlider__button--disabled":o}),onClick:function(){if(n(!1),j){j.scrollLeft+=le;var e=t.length/4*le;j.scrollLeft+3444>e&&l(!0)}},disabled:o})]}),Object(Y.jsx)("ul",{className:"ProductsSlider__cards",ref:d,children:t.map((function(e){return Object(Y.jsx)("li",{className:"ProductsSlider__item",children:Object(Y.jsx)(oe,{product:e})},e.id)}))})]})},je=(c(68),["img/banners/banner-phones.png","img/banners/banner-tablets.png","img/banners/banner-accessories.png"]),ue=je.length-1,be=1040,me=function(){var e=Object(T.useState)(0),t=Object(H.a)(e,2),c=t[0],a=t[1],s=Object(T.useRef)(null),n=s.current,r=0;Object(T.useEffect)((function(){n&&(n.scrollLeft=0,a(0))}),[n]);var i=function(){n&&(n.scrollLeft>=be*ue?(n.scrollLeft-=be*ue,a(0)):(n.scrollLeft+=be,a(c+1)))};Object(T.useEffect)((function(){return r=window.setInterval((function(){i()}),5e3),function(){return clearInterval(r)}}));return Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsxs)("div",{className:"Banners",children:[Object(Y.jsx)("button",{type:"button",className:"Banners__button Banners__button--left",onClick:function(){clearInterval(r),n&&(n.scrollLeft<be?(n.scrollLeft+=be*ue,a(ue)):(n.scrollLeft-=be,a(c-1)))}}),Object(Y.jsx)("div",{className:"Banners__container",ref:s,children:je.map((function(e,t){return Object(Y.jsx)("img",{src:e,alt:"Banner ".concat(t+1),className:"Banners__banner"},e)}))}),Object(Y.jsx)("button",{type:"button",className:"Banners__button",onClick:function(){clearInterval(r),i()}}),Object(Y.jsx)("div",{className:"Banners__indicators",children:je.map((function(e,t){return Object(Y.jsx)("button",{type:"button",className:"Banners__link",onClick:function(){return a(t)},children:Object(Y.jsx)("div",{className:M()("Banners__indicator",{"Banners__indicator--active":c===t})})},e)}))})]})})},Oe=(c(69),c(70),function(e){var t=e.name,c=e.title,a=e.amount;return Object(Y.jsxs)(E.b,{to:"/".concat(t),className:"CategoryItem",children:[Object(Y.jsx)("img",{src:"/img/categories/category-".concat(t,".png"),alt:"Category ".concat(t),className:"CategoryItem__image"}),Object(Y.jsxs)("div",{className:"CategoryItem__info",children:[Object(Y.jsx)("h3",{className:"CategoryItem__title",children:c}),Object(Y.jsx)("p",{className:"CategoryItem__count",children:"".concat(a," models")})]})]})}),_e=function(e){var t=e.products,c=function(e){return t.filter((function(t){return t.type===e})).length};return Object(Y.jsxs)("ul",{"data-cy":"categoryLinksContainer",className:"CategoriesList",children:[Object(Y.jsx)("li",{className:"CategoriesList__item",children:Object(Y.jsx)(Oe,{name:"phones",title:"Mobile phones",amount:c("phone")})}),Object(Y.jsx)("li",{className:"CategoriesList__item",children:Object(Y.jsx)(Oe,{name:"tablets",title:"Tablets",amount:c("tablet")})}),Object(Y.jsx)("li",{className:"CategoriesList__item",children:Object(Y.jsx)(Oe,{name:"accessories",title:"Accessories",amount:c("accessory")})})]})},fe=(c(71),function(){return Object(Y.jsx)("div",{"data-cy":"loader",className:"Loader",children:Object(Y.jsx)("div",{className:"Loader__content"})})}),he=function(){var e=f(),t=e.data,c=e.isLoading,a=Object(T.useState)([]),s=Object(H.a)(a,2),n=s[0],r=s[1],i=Object(T.useState)([]),o=Object(H.a)(i,2),l=o[0],d=o[1];return Object(T.useEffect)((function(){t&&(r(function(e){return e.filter((function(e){return e.discount})).sort((function(e,t){return Q(t)-Q(e)}))}(t)),d(function(e){return e.filter((function(e){return!e.discount})).sort((function(e,t){return t.price-e.price}))}(t)))}),[t]),Object(Y.jsxs)("div",{className:"Page Page--gap--wider Page--padding--top--wider",children:[Object(Y.jsx)(me,{}),Object(Y.jsxs)("section",{className:"Page__section hot-prices",children:[Object(Y.jsx)("h1",{className:"Page__title",children:"Hot prices"}),c?Object(Y.jsx)(fe,{}):Object(Y.jsx)(de,{products:n})]}),Object(Y.jsxs)("section",{className:"Page__section shop-by-category",children:[Object(Y.jsx)("h1",{className:"Page__title",children:"Shop by category"}),!!t&&Object(Y.jsx)(_e,{products:t})]}),Object(Y.jsxs)("section",{className:"Page__section brand-new",children:[Object(Y.jsx)("h1",{className:"Page__title",children:"Brand new models"}),c?Object(Y.jsx)(fe,{}):Object(Y.jsx)(de,{products:l})]})]})},pe=c(13);c(72),c(73);var xe=function(e){var t=e.totalItems,c=e.onPage,a=Object(E.d)(),s=Object(H.a)(a,2),n=s[0],r=s[1],i=n.get("page"),o=Math.ceil(t/c)||1,l=Number(i)||1,d=function(e,t){for(var c=[],a=e;a<=t;a+=1)c.push(a);return c}(1,o),j=1===l,u=l===o;return Object(Y.jsxs)("ul",{"data-cy":"pagination",className:"Pagination",children:[Object(Y.jsx)("li",{className:"Pagination__item",children:Object(Y.jsx)("button",{"data-cy":"paginationLeft",type:"button",className:M()("Pagination__arrow Pagination__arrow--left",{"Pagination__arrow--disabled":j}),onClick:function(){j||(n.set("page",(l-1).toString()),r(n))},disabled:j})}),d.map((function(e){return Object(Y.jsx)("li",{className:"Pagination__item",children:Object(Y.jsx)("button",{type:"button",className:M()("Pagination__link",{"Pagination__link--active":e===l}),onClick:function(){return t=e,n.set("page",t.toString()),void r(n);var t},children:e})},e)})),Object(Y.jsx)("li",{className:"Pagination__item",children:Object(Y.jsx)("button",{"data-cy":"paginationRight",type:"button",className:M()("Pagination__arrow",{"Pagination__arrow--disabled":u}),onClick:function(){u||(n.set("page",(l+1).toString()),r(n))},disabled:u})})]})},ge=(c(74),c.p+"static/media/icon_vector_disabled.2a072ff1.svg"),Ne=function(e){var t=e.parameterOptions,c=e.currentOptionName,a=e.onChange,s=Object(T.useState)(!1),n=Object(H.a)(s,2),r=n[0],i=n[1];Object(T.useEffect)((function(){if(r){var e=function(){i(!1)};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}}),[r]);return Object(Y.jsxs)("div",{className:"Dropdown",children:[Object(Y.jsxs)("button",{type:"button",className:M()("Dropdown__button",{"Dropdown__button--active":r}),onClick:function(){i(!r)},children:[Object(Y.jsx)("span",{className:"Dropdown__text",children:function(e){var c=t.find((function(t){return t.name===e}));return null===c||void 0===c?void 0:c.alias}(c)}),Object(Y.jsx)("img",{src:ge,alt:"Vector Icon",className:M()("Dropdown__arrow",{"Dropdown__arrow--active":r})})]}),r&&Object(Y.jsx)("div",{className:"Dropdown__content",children:t.map((function(e){return Object(Y.jsx)("button",{type:"button",className:"Dropdown__item",onClick:function(){return t=e.name,a(t),void i(!1);var t},children:e.alias},e.name)}))})]})},ve=(c(75),function(){return Object(Y.jsx)("p",{className:"NoSearchResults",children:"Sorry, no matching results"})}),Pe=[{name:"age",alias:"Newest"},{name:"name",alias:"Alphabetically"},{name:"price",alias:"Cheapest"}],ye=[{name:"all",alias:"All"},{name:"4",alias:"4"},{name:"8",alias:"8"},{name:"16",alias:"16"}],Ce=function(e){var t=e.products,c=Object(T.useState)([]),a=Object(H.a)(c,2),s=a[0],n=a[1],r=Object(q.n)().pathname,i=Object(E.d)(),o=Object(H.a)(i,2),l=o[0],d=o[1],j=l.get("sort")||"age",u=l.get("query")||"",b=l.get("page")||"1",m=l.get("perPage")||"8",O=Object(T.useMemo)((function(){return function(e,t,c){var a=Object(pe.a)(e);if(c){var s=c.toLowerCase();a=a.filter((function(e){return e.name.toLowerCase().includes(s)}))}switch(t){case"age":a.sort((function(e,t){return e.age-t.age}));break;case"price":a.sort((function(e,t){return V(e)-V(t)}));break;case"name":a.sort((function(e,t){return e.name.localeCompare(t.name)}));break;default:throw new Error("Unknown sort parameter!")}return a}(t,j,u)}),[t,j,u]),_=O.length;Object(T.useEffect)((function(){if("all"!==m){var e=(+b-1)*+m+1,t=Math.min(+b*+m,_);n(O.slice(e-1,t))}else n(Object(pe.a)(O))}),[O,b,m]);return Object(Y.jsxs)("div",{className:"ProductsList",children:["/favorites"!==r&&_>1&&Object(Y.jsxs)("div",{className:"ProductsList__selections",children:[Object(Y.jsxs)("div",{className:"ProductsList__select",children:[Object(Y.jsx)("p",{className:"ProductsList__label",children:"Sort by"}),Object(Y.jsx)(Ne,{parameterOptions:Pe,currentOptionName:j,onChange:function(e){l.set("sort",e),d(l)}})]}),_>4&&Object(Y.jsxs)("div",{className:"ProductsList__select ProductsList__select--narrow",children:[Object(Y.jsx)("p",{className:"ProductsList__label",children:"Items on page"}),Object(Y.jsx)(Ne,{parameterOptions:ye,currentOptionName:m,onChange:function(e){l.set("perPage",e),l.set("page","1"),d(l)}})]})]}),!!u&&!!_&&Object(Y.jsx)("p",{className:"ProductsList__search-count",children:"".concat(_," result").concat(_>1?"s":"")}),!_&&Object(Y.jsx)(ve,{}),Object(Y.jsx)("ul",{className:"ProductsList__content","data-cy":"productList",children:s.map((function(e){return Object(Y.jsx)("li",{className:"ProductsList__item",children:Object(Y.jsx)(oe,{product:e})},e.id)}))}),"all"!==m&&_>+m&&Object(Y.jsx)(xe,{totalItems:_,onPage:+m})]})},ke=(c(76),function(e){var t=e.categoryName;return Object(Y.jsx)("p",{className:"NoResults",children:"".concat(t," not found")})}),Ie=(c(77),c.p+"static/media/icon_home.d4c29e4f.svg"),Le=function(){var e=Object(T.useState)(""),t=Object(H.a)(e,2),c=t[0],a=t[1],s=Object(T.useState)(),n=Object(H.a)(s,2),r=n[0],i=n[1],o=Object(q.n)(),l=Object(q.r)().productId,d=f().data;return Object(T.useEffect)((function(){d&&l&&i(d.find((function(e){return e.id===l})))}),[l,d]),Object(T.useEffect)((function(){var e;l?r&&a("y"===(e=r.type).charAt(e.length-1)?"".concat(e.slice(0,e.length-1),"ies"):"".concat(e,"s")):a(o.pathname.slice(1,o.pathname.length))}),[o.pathname,r]),Object(Y.jsxs)("div",{"data-cy":"breadCrumbs",className:"Breadcrumbs",children:[Object(Y.jsx)(E.b,{to:"/",className:"Breadcrumbs__link",children:Object(Y.jsx)("img",{src:Ie,alt:"Home Icon"})}),Object(Y.jsx)("img",{src:ge,alt:"Vector Icon"}),l?Object(Y.jsx)(E.b,{to:"/".concat(c),className:"Breadcrumbs__link",children:Object(Y.jsx)("p",{className:"Breadcrumbs__folder",children:re(c)})}):Object(Y.jsx)("p",{className:"Breadcrumbs__folder",children:re(c)}),l&&Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)("img",{src:ge,alt:"Vector Icon"}),Object(Y.jsx)("p",{className:"Breadcrumbs__folder",children:null===r||void 0===r?void 0:r.name})]})]})},we=function(){var e=f(),t=e.data,c=e.isLoading,a=Object(T.useState)([]),s=Object(H.a)(a,2),n=s[0],r=s[1],i=Object(E.d)(),o=Object(H.a)(i,1)[0].get("query")||"";return Object(T.useEffect)((function(){t&&r(t.filter((function(e){return"phone"===e.type})))}),[t]),Object(Y.jsxs)("div",{className:"Page",children:[!o&&Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(Le,{}),Object(Y.jsxs)("div",{className:"Page__top",children:[Object(Y.jsx)("h1",{className:"Page__title",children:"Mobile Phones"}),Object(Y.jsx)("p",{className:"Page__amount",children:"".concat(n.length," models")})]})]}),c&&Object(Y.jsx)(fe,{}),c||n.length?Object(Y.jsx)(Ce,{products:n}):Object(Y.jsx)(ke,{categoryName:"Mobile phones"})]})},De=function(){var e=f(),t=e.data,c=e.isLoading,a=Object(T.useState)([]),s=Object(H.a)(a,2),n=s[0],r=s[1],i=Object(E.d)(),o=Object(H.a)(i,1)[0].get("query")||"";return Object(T.useEffect)((function(){t&&r(t.filter((function(e){return"tablet"===e.type})))}),[t]),Object(Y.jsxs)("div",{className:"Page",children:[!o&&Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(Le,{}),Object(Y.jsxs)("div",{className:"Page__top",children:[Object(Y.jsx)("h1",{className:"Page__title",children:"Tablets"}),Object(Y.jsx)("p",{className:"Page__amount",children:"".concat(n.length," models")})]})]}),c&&Object(Y.jsx)(fe,{}),c||n.length?Object(Y.jsx)(Ce,{products:n}):Object(Y.jsx)(ke,{categoryName:"Tablets"})]})},Se=function(){var e=f(),t=e.data,c=e.isLoading,a=Object(T.useState)([]),s=Object(H.a)(a,2),n=s[0],r=s[1],i=Object(E.d)(),o=Object(H.a)(i,1)[0].get("query")||"";return Object(T.useEffect)((function(){t&&r(t.filter((function(e){return"accessory"===e.type})))}),[t]),Object(Y.jsxs)("div",{className:"Page",children:[!o&&Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(Le,{}),Object(Y.jsxs)("div",{className:"Page__top",children:[Object(Y.jsx)("h1",{className:"Page__title",children:"Accessories"}),Object(Y.jsx)("p",{className:"Page__amount",children:"".concat(n.length," models")})]})]}),c&&Object(Y.jsx)(fe,{}),c||n.length?Object(Y.jsx)(Ce,{products:n}):Object(Y.jsx)(ke,{categoryName:"Accessories"})]})},Be=function(){var e=U((function(e){return e.favorites})).favorites,t=Object(E.d)(),c=Object(H.a)(t,1)[0].get("query")||"";return Object(Y.jsxs)("div",{className:"Page",children:[!c&&Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(Le,{}),Object(Y.jsxs)("div",{className:"Page__top",children:[Object(Y.jsx)("h1",{className:"Page__title",children:"Favorites"}),Object(Y.jsx)("p",{className:"Page__amount",children:"".concat(e.length," models")})]})]}),e.length?Object(Y.jsx)(Ce,{products:e}):Object(Y.jsx)(ke,{categoryName:"Favorites"})]})},Fe=(c(78),c.p+"static/media/icon_vector.a8e610bf.svg"),Ae=function(){var e=Object(q.p)();return Object(Y.jsxs)("div",{className:"BackButton",children:[Object(Y.jsx)("img",{src:Fe,alt:"Vector Icon",className:"BackButton__vector"}),Object(Y.jsx)("button",{"data-cy":"backButton",type:"button",className:"BackButton__button",onClick:function(){return e(-1)},children:"Back"})]})},Ee=(c(79),c(80),function(e){var t=e.cartItem,c=$(),a=t.quantity,s=t.product;return Object(Y.jsxs)("div",{className:"CartItemCard",children:[Object(Y.jsxs)("div",{className:"CartItemCard__left",children:[Object(Y.jsx)("button",{"data-cy":"cartDeleteButton",type:"button",className:"CartItemCard__delete",onClick:function(){c(k(s.id))}}),Object(Y.jsx)("img",{src:s.imageUrl,alt:s.name,className:"CartItemCard__image"}),Object(Y.jsx)("p",{className:"CartItemCard__description",children:s.name})]}),Object(Y.jsxs)("div",{className:"CartItemCard__right",children:[Object(Y.jsxs)("div",{className:"CartItemCard__counter",children:[Object(Y.jsx)("button",{type:"button",className:M()("CartItemCard__button CartItemCard__button--subtract",{"CartItemCard__button--subtract--disabled":a<=1}),onClick:function(){c(I(s.id))},disabled:a<=1}),Object(Y.jsx)("p",{className:"CartItemCard__quantity",children:a}),Object(Y.jsx)("button",{type:"button",className:"CartItemCard__button CartItemCard__button--add",onClick:function(){c(L(s.id))}})]}),Object(Y.jsx)("p",{className:"CartItemCard__price",children:"$".concat((s.discount?V(s):s.price)*a)})]})]})}),qe=function(e){var t=e.cart,c=Object(T.useState)(!1),a=Object(H.a)(c,2),s=a[0],n=a[1];return Object(Y.jsxs)("div",{className:"CartItemsList",children:[Object(Y.jsx)("div",{className:"CartItemsList__items",children:t.map((function(e){return Object(Y.jsx)(Ee,{cartItem:e},e.id)}))}),Object(Y.jsxs)("div",{className:"CartItemsList__output",children:[Object(Y.jsxs)("div",{className:"CartItemsList__info",children:[Object(Y.jsx)("p",{className:"CartItemsList__price",children:"$".concat(J(t))}),Object(Y.jsx)("p",{"data-cy":"productQauntity",className:"CartItemsList__amount",children:"Total for ".concat(G(t)," items")})]}),Object(Y.jsx)("div",{className:"CartItemsList__divider"}),Object(Y.jsx)("button",{type:"button",className:"CartItemsList__checkout",onClick:function(){n(!0),setTimeout((function(){return n(!1)}),3e3)},children:"Checkout"}),s&&Object(Y.jsx)("p",{className:"CartItemsList__not-implemented",children:"We are sorry, but this feature is not implemented yet"})]})]})},He=function(){var e=U((function(e){return e.cart})).cart;return Object(Y.jsxs)("div",{className:"Page Page--gap--narrower Page--padding--top--wider",children:[Object(Y.jsxs)("div",{className:"Page__top Page__top--gap--wider",children:[Object(Y.jsx)(Ae,{}),Object(Y.jsx)("h1",{className:"Page__title",children:"Cart"})]}),e.length?Object(Y.jsx)(qe,{cart:e}):Object(Y.jsx)("p",{className:"Page__amount",children:"Your cart is empty"})]})},Te=c(23),Re=(c(81),function(e){var t=e.productInfo,c=Object(T.useState)(""),a=Object(H.a)(c,2),s=a[0],n=a[1],r=Object(T.useState)(),i=Object(H.a)(r,2),o=i[0],l=i[1],d=f().data,j=t.id,u=t.images,b=t.display,m=t.hardware,O=t.storage,_=t.description,h=t.camera,p=t.connectivity,x={screen:b.screenSize,resolution:b.screenResolution,processor:m.cpu,ram:O.ram},g=Object(Te.a)(Object(Te.a)({},x),{},{camera:h.primary,bluetooth:p.bluetooth,"wi-Fi":p.wifi,cell:p.cell});Object(T.useEffect)((function(){n(u[0])}),[t]),Object(T.useEffect)((function(){d&&l(d.find((function(e){return e.id===j})))}),[d,j]);return Object(Y.jsxs)("div",{className:"ProductDetails",children:[Object(Y.jsxs)("div",{className:"ProductDetails__image-container",children:[Object(Y.jsx)("div",{className:"ProductDetails__images",children:u.map((function(e){return Object(Y.jsx)("button",{type:"button",className:M()("ProductDetails__image-link",{"ProductDetails__image-link--active":s===e}),onClick:function(){n(e)},children:Object(Y.jsx)("img",{src:e,alt:e,className:"ProductDetails__image"})},e)}))}),Object(Y.jsx)("img",{src:s,alt:s,className:"ProductDetails__image ProductDetails__image--big"})]}),o&&Object(Y.jsxs)("div",{className:"ProductDetails__interactive",children:[Object(Y.jsxs)("div",{className:"ProductDetails__prices",children:[!!o.discount&&Object(Y.jsx)("p",{className:"ProductDetails__price",children:"$".concat(V(o))}),Object(Y.jsx)("p",{className:M()("ProductDetails__price",{"ProductDetails__price--discount":!!o.discount}),children:"$".concat(o.price)})]}),Object(Y.jsx)("div",{className:"ProductDetails__add",children:Object(Y.jsx)(ie,{product:o})}),Object(Y.jsx)("div",{className:"ProductDetails__info",children:Object.entries(x).map((function(e){var t=Object(H.a)(e,2),c=t[0],a=t[1];return Object(Y.jsxs)("div",{className:"ProductDetails__field",children:[Object(Y.jsx)("p",{className:"ProductDetails__field-key",children:re(c)}),Object(Y.jsx)("p",{className:"ProductDetails__field-value",children:a||"-"})]},c)}))})]}),Object(Y.jsxs)("section",{"data-cy":"productDescription",className:"ProductDetails__about",children:[Object(Y.jsx)("h2",{className:"ProductDetails__title",children:"About"}),Object(Y.jsx)("div",{className:"ProductDetails__divider"}),Object(Y.jsx)("p",{className:"ProductDetails__description",children:_})]}),Object(Y.jsxs)("section",{className:"ProductDetails__specs",children:[Object(Y.jsx)("h2",{className:"ProductDetails__title",children:"Tech specs"}),Object(Y.jsx)("div",{className:"ProductDetails__divider"}),Object(Y.jsx)("div",{className:" ProductDetails__info ProductDetails__info--text--bigger ",children:Object.entries(g).map((function(e){var t=Object(H.a)(e,2),c=t[0],a=t[1];return Object(Y.jsxs)("div",{className:"ProductDetails__field",children:[Object(Y.jsx)("p",{className:"ProductDetails__field-key",children:re(c)}),Object(Y.jsx)("p",{className:"ProductDetails__field-value",children:a||"-"})]},c)}))})]})]})}),Me=function(){var e=Object(T.useState)([]),t=Object(H.a)(e,2),c=t[0],a=t[1],s=Object(q.r)().productId,n=h(s||""),r=n.data,i=n.isLoading,o=n.isError,l=f(),d=l.data,j=l.isLoading;return Object(T.useEffect)((function(){d&&s&&a(function(e,t){var c=e.filter((function(e){return e.id!==t}));return ne()(c,8)}(d,s))}),[d,s]),Object(Y.jsxs)("div",{className:"Page",children:[Object(Y.jsx)(Le,{}),Object(Y.jsxs)("div",{className:"Page__top Page__top--gap--wider",children:[Object(Y.jsx)(Ae,{}),!o&&Object(Y.jsx)("h1",{className:"Page__title",children:null===r||void 0===r?void 0:r.name})]}),o&&Object(Y.jsx)(ke,{categoryName:"Current product"}),!i&&!o&&r&&Object(Y.jsx)(Re,{productInfo:r}),Object(Y.jsxs)("section",{className:" Page__section Page__section--padding-top suggested ",children:[Object(Y.jsx)("h1",{className:"Page__title",children:"You may also like"}),j?Object(Y.jsx)(fe,{}):Object(Y.jsx)(de,{products:c})]})]})},$e=function(){return Object(Y.jsx)("div",{className:"Page",children:Object(Y.jsx)("h1",{className:"Page__title",children:"Page not found"})})},Ue=function(){return Object(Y.jsx)(E.a,{children:Object(Y.jsx)(q.d,{children:Object(Y.jsxs)(q.b,{path:"/",element:Object(Y.jsx)(ae,{}),children:[Object(Y.jsx)(q.b,{index:!0,element:Object(Y.jsx)(he,{})}),Object(Y.jsx)(q.b,{path:"/phones",element:Object(Y.jsx)(we,{})}),Object(Y.jsx)(q.b,{path:"/tablets",element:Object(Y.jsx)(De,{})}),Object(Y.jsx)(q.b,{path:"/accessories",element:Object(Y.jsx)(Se,{})}),Object(Y.jsx)(q.b,{path:"/favorites",element:Object(Y.jsx)(Be,{})}),Object(Y.jsx)(q.b,{path:"/cart",element:Object(Y.jsx)(He,{})}),Object(Y.jsx)(q.b,{path:"/product/:productId",element:Object(Y.jsx)(Me,{})}),Object(Y.jsx)(q.b,{path:"*",element:Object(Y.jsx)($e,{})})]})})})};s.a.render(Object(Y.jsx)(n.a,{store:F,children:Object(Y.jsx)(r.a,{loading:null,persistor:A,children:Object(Y.jsx)(Ue,{})})}),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.a1b4bc54.chunk.js.map